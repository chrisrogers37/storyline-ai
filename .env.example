# ============================================
# Storyline AI Configuration
# ============================================

# ============================================
# Phase Control
# ============================================
# Phase 1: Set to false (Telegram-only mode)
# Phase 2: Set to true (Enable Instagram API automation)
ENABLE_INSTAGRAM_API=false

# ============================================
# Database Configuration
# ============================================
# Option 1: Full connection URL (recommended for cloud — overrides DB_* vars)
# DATABASE_URL=postgresql://user:pass@ep-xxx.neon.tech/storyline_ai?sslmode=require

# Option 2: Individual components (for local development)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=storyline_ai
DB_USER=storyline_user
# DB_PASSWORD is optional for local PostgreSQL (leave blank if not needed)
DB_PASSWORD=

# SSL mode (set to "require" for Neon/cloud databases)
# DB_SSLMODE=require

# Connection pool sizing (reduce for Neon free tier: pool=3, overflow=2)
# DB_POOL_SIZE=10
# DB_MAX_OVERFLOW=20

# Test database (optional)
TEST_DB_NAME=storyline_ai_test

# ============================================
# Telegram Configuration (REQUIRED)
# ============================================
# Get bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Channel ID (use @userinfobot to get it - will be negative for channels)
TELEGRAM_CHANNEL_ID=-1001234567890

# Admin chat ID for alerts (your personal chat ID)
ADMIN_TELEGRAM_CHAT_ID=123456789

# ============================================
# Posting Schedule Configuration
# ============================================
# Number of posts per day (1-10)
POSTS_PER_DAY=3

# Posting hours (UTC, 0-23)
# Example: For 9 AM - 9 PM EST (UTC-5), use 14-2
POSTING_HOURS_START=14
POSTING_HOURS_END=2

# Days before same media can be reposted
REPOST_TTL_DAYS=30

# ============================================
# Media Configuration
# ============================================
# Path to media directory (absolute path required)
# Auto-created at startup if it doesn't exist (e.g., /tmp/media on Railway)
# Examples:
#   macOS/Linux development: /Users/yourname/Projects/storyline-ai/media/stories
#   Raspberry Pi production: /home/pi/media/stories
#   Cloud (Railway): /tmp/media
MEDIA_DIR=/home/pi/media/stories

# Media source type: "local" (filesystem) or "google_drive" (cloud)
# MEDIA_SOURCE_TYPE=local

# Google Drive folder ID (when MEDIA_SOURCE_TYPE=google_drive)
# MEDIA_SOURCE_ROOT=

# Enable periodic media sync from cloud provider
# MEDIA_SYNC_ENABLED=false
# MEDIA_SYNC_INTERVAL_SECONDS=300

# ============================================
# Backup Configuration
# ============================================
BACKUP_DIR=/backup/storyline-ai
BACKUP_RETENTION_DAYS=30

# ============================================
# Instagram API Configuration (Phase 2 Only)
# ============================================
# Leave blank for Phase 1
INSTAGRAM_ACCOUNT_ID=
INSTAGRAM_ACCESS_TOKEN=
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=

# OAuth redirect base URL (required for cloud — your Railway web domain)
# OAUTH_REDIRECT_BASE_URL=https://your-app.up.railway.app

# Rate limit for Instagram API (Meta allows ~25/hour for Stories)
INSTAGRAM_POSTS_PER_HOUR=25

# ============================================
# Google Drive OAuth (Cloud Media Source)
# ============================================
# Required when using MEDIA_SOURCE_TYPE=google_drive
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=

# ============================================
# Cloudinary Configuration (Phase 2 Only)
# ============================================
# Leave blank for Phase 1
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# Hours before cloud uploads are considered stale (for cleanup)
CLOUD_UPLOAD_RETENTION_HOURS=24

# ============================================
# Security Configuration (Phase 2 Only)
# ============================================
# Encryption key for token storage (Fernet key)
# Generate with: python -c "from src.utils.encryption import TokenEncryption; print(TokenEncryption.generate_key())"
ENCRYPTION_KEY=

# ============================================
# Development Settings
# ============================================
# Set to true to prevent actual posting (testing mode)
DRY_RUN_MODE=false

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================
# Phase 1.5 Settings - Telegram Enhancements
# ============================================
# Send startup/shutdown notifications to admin (true/false)
SEND_LIFECYCLE_NOTIFICATIONS=true

# Instagram username for deep links (optional, e.g., "yourbrand")
INSTAGRAM_USERNAME=

# Caption style: "enhanced" (with emojis) or "simple" (plain text)
CAPTION_STYLE=enhanced
